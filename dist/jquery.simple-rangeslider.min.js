/*! Simple Rangeslider - v0.1.0 - 2014-09-25
* https://github.com/weilao/simple-rangeslider
* Copyright (c) 2014 Weilao; Licensed MIT */
!function(a){var b="rangeslider";a.fn[b]=function(a){return this.each(function(){new c(this,a)})};var c=function(c,d){var e,f,g,h,i,j,k=this;e=a(c),j=e.attr("value"),i=e.attr("id"),this.options=a.extend(!0,{},a[b].options,{min:e.attr("min"),max:e.attr("max")},d),e.attr({id:i,"class":b,min:this.options.min,max:this.options.max}).css("position","relative").val(j),f=a('<div class="'+b+'-handler"></div>'),f.appendTo(e),this.$slider=e,this.$sliderHandler=f,this.sliderWidth=g=e.width(),this._sliderOffsetLeft=e.offset().left,this._handlerWidth=h=f.width(),this._maxLeft=g-h/2,this._minLeft=-h/2,f.css({position:"absolute",fontSize:"0"}).css({left:-this._handlerWidth/2,top:-e.height()/2}),e.on("mousedown."+b,function(c){c.preventDefault(),k.update(c),a(document).on("mousemove."+b,a.proxy(k.update,k)).on("mouseup."+b,function(){a(document).off("."+b)})}),f.on("mousedown."+b,function(c){c.preventDefault(),a(document).on("mousemove."+b,a.proxy(k.update,k)).on("mouseup."+b,function(){a(document).off("."+b)})}),e.data("slider",this)};a[b]=a.extend(c,{prototype:{_percent:null,getMin:function(){return this.options.min},getMax:function(){return this.options.max},getValue:function(){return this.getPercent()*this.options.max},setValue:function(a){var b=(a-this.options.min)/(this.options.max-this.options.min);this.setHandlerLeft(b*this._maxLeft-this._handlerWidth/2)},getPercent:function(){return this._percent},getHandlerLeft:function(){return this._handlerLeft},setHandlerLeft:function(a){a=Math.max(a,this._minLeft),a=Math.min(a,this._maxLeft),this.$sliderHandler.css("left",a),this._handlerLeft=a,this._percent=(this._handlerLeft+this._handlerWidth/2)/(this._maxLeft-this._minLeft)},update:function(a){a.preventDefault(),this.setHandlerLeft(a.pageX-this._sliderOffsetLeft-this._handlerWidth/2);var c=this.getPercent()*(this.options.max-this.options.min)+this.options.min;this.$slider.val(c),this.$slider.trigger("change."+b,[c,this.getPercent()])}}}),a[b].options={min:0,max:100}}(jQuery);